/* Variables CSS para alineación perfecta - Del super cuaderno */
:root {
  --notepad-line-height: 1.625rem; /* 26px - Alineación perfecta */
  --notepad-page-padding-top: 32px; /* Padding-top del notepad normal */
  --notepad-background-offset-y: calc(var(--notepad-page-padding-top) + 18px);
  --notepad-small-padding-top: 16px; /* Padding-top del notepad pequeño */
  --notepad-small-background-offset-y: calc(var(--notepad-small-padding-top) + 18px);
}

/* Contenedor del contenido del cuaderno con líneas horizontales perfectas */
.notepad-content-container {
  position: relative;
  width: 100%;
  height: 100%;
}

/* Fondo con líneas horizontales - ALINEACIÓN PERFECTA: cada 1.5rem (24px) */
.notepad-lines-background {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
  
  /* Líneas horizontales del cuaderno - ALINEACIÓN PERFECTA: cada 1.5rem (24px) */
  background-image: linear-gradient(#e2e8f0 1px, transparent 1px);
  background-size: 100% var(--notepad-line-height); /* 1.625rem = 26px - La clave de la alineación */
  background-position-y: var(--notepad-background-offset-y);
  background-repeat: repeat-y;
}

/* Versión para formato pequeño - Ajustar offset */
.notepad-lines-background.small-format {
  background-position-y: var(--notepad-small-background-offset-y);
}

/* Margen rojo - Del super cuaderno */
.notepad-lines-background::before {
  content: '';
  position: absolute;
  top: var(--notepad-page-padding-top);
  bottom: 16px; /* Padding-bottom del notepad */
  left: 50px; /* Posición del margen rojo */
  width: 1px;
  background-color: #fca5a5;
}

/* Margen rojo para formato pequeño */
.notepad-lines-background.small-format::before {
  top: var(--notepad-small-padding-top);
  bottom: 8px; /* Padding-bottom del notepad pequeño */
  left: 20px; /* Margen rojo más cerca para formato pequeño */
}

/* Área de contenido editable - ALINEACIÓN PERFECTA con Poppins */
/* IMPORTANTE: El texto debe iniciar DESPUÉS de la línea de margen */
.notepad-content-editable {
  position: relative;
  z-index: 10;
  width: 100%;
  height: 100%;
  min-height: 100%;
  outline: none;
  padding-left: 70px !important; /* 50px (margen rojo) + 20px (espacio después del margen) - Sobrescribe padding de Tailwind */
  font-family: 'Poppins', sans-serif !important; /* Fuente Poppins - Sobrescribe font-body */
  font-size: 16px !important; /* Tamaño de 16px */
  line-height: 1.625rem !important; /* 26px - Interlineado aumentado */
  color: #1e293b;
  white-space: pre-wrap;
  word-wrap: break-word;
  box-sizing: border-box;
  /* FIX: Prevenir scroll automático al enfocar/escribir */
  scroll-margin: 0;
  overflow-anchor: none;
}

/* FIX: Prevenir scroll automático del navegador al enfocar */
.notepad-content-editable:focus {
  scroll-margin: 0;
  scroll-margin-top: 0;
  scroll-margin-bottom: 0;
}

/* Permitir posicionamiento del cursor en cualquier línea */
.notepad-content-editable * {
  line-height: 1.625rem; /* 26px - Debe coincidir exactamente con background-size */
  min-height: 1.625rem; /* 26px */
}

.notepad-content-editable div {
  min-height: 1.625rem; /* 26px */
}

/* Estilo para texto provisional del dictado (gris claro) */
.notepad-content-editable .dictation-interim {
  color: #9ca3af !important; /* Gris claro */
  opacity: 0.7;
}

/* Formatos pequeños ya no se usan - todo es fijo en 15px */

/* Versión para formato horizontal (20x15) */
.notepad-content-editable.horizontal-format {
  padding-left: 70px !important; /* Mantener padding estándar para mejor legibilidad */
  font-size: 16px !important; /* Tamaño de 16px */
  line-height: 1rem !important; /* Interlineado 1, alineación perfecta */
}

/* Scroll infinito hacia abajo para elemento kRfKpBDg946Y99668Tih */
.notepad-content-editable.infinite-scroll {
  overflow-y: visible !important; /* Permitir que el contenido crezca más allá */
  min-height: 100% !important; /* Mínimo altura del contenedor */
  height: auto !important; /* Altura automática basada en contenido */
}

.notepad-content-editable.infinite-scroll * {
  min-height: auto; /* Permitir que el contenido crezca naturalmente */
}

/* Contenedor con scroll infinito - permitir scroll cuando el contenido excede */
.notepad-content-container:has(.infinite-scroll) {
  overflow-y: auto !important;
  height: 100%;
  max-height: 100%;
}

/* CardContent con scroll infinito - permitir scroll cuando el contenido crece */
.notepad-card:has(.infinite-scroll) .notepad-content-container {
  overflow-y: auto !important;
}

/* Asegurar que el CardContent padre también permita scroll */
.notepad-card:has(.infinite-scroll) > div:has(.notepad-content-container) {
  overflow-y: auto !important;
}

/* Estilos específicos para elemento rzBhqCTd8wwZmD8JCNEk - Líneas calipso y fondo #fafad7 */
.notepad-lines-background[data-element-id="rzBhqCTd8wwZmD8JCNEk"] {
  background-image: linear-gradient(#40E0D0 1px, transparent 1px) !important; /* Color calipso */
  background-size: 100% 1rem !important; /* 16px - Líneas ajustadas al tamaño de texto estándar */
}

.notepad-content-container[data-element-id="rzBhqCTd8wwZmD8JCNEk"] {
  background-color: #fafad7 !important; /* Fondo beige claro */
}

.notepad-content-editable[data-element-id="rzBhqCTd8wwZmD8JCNEk"] {
  line-height: 1.625rem !important; /* 26px - Debe coincidir con background-size */
}

/* Estilos específicos para elemento XAlG6umOIjtInOCNY1kU - Ajustar líneas con tamaño de texto */
.notepad-lines-background[data-element-id="XAlG6umOIjtInOCNY1kU"] {
  background-size: 100% 1rem !important; /* 16px - Líneas ajustadas al tamaño de texto */
}

.notepad-content-editable[data-element-id="XAlG6umOIjtInOCNY1kU"] {
  font-size: 16px !important; /* Tamaño de texto */
  line-height: 1.625rem !important; /* 26px - Debe coincidir con background-size */
}

.notepad-content-editable[data-element-id="XAlG6umOIjtInOCNY1kU"] * {
  line-height: 1.625rem !important; /* 26px */
  min-height: 1.625rem !important; /* 26px */
}

.notepad-content-editable[data-element-id="XAlG6umOIjtInOCNY1kU"] div {
  min-height: 1.625rem !important; /* 26px */
}

